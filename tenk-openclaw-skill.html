<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TenK ahora en tu Asistente de IA ‚Äî OpenClaw Skill | Oscar Code</title>
  <meta name="description" content="C√≥mo constru√≠ la integraci√≥n de TenK con OpenClaw: OAuth Device Flow, Flutter authorize page, skill CLI y landing page. De la idea al deploy en un d√≠a.">
  <meta name="keywords" content="TenK, OpenClaw, skill, OAuth Device Flow, Flutter, Hono, Prisma, ClaHub, CLI, IA">
  <meta property="og:title" content="TenK ahora en tu Asistente de IA ‚Äî OpenClaw Skill">
  <meta property="og:description" content="Constru√≠ un skill de OpenClaw para TenK con OAuth Device Flow, Flutter authorize page y CLI completo. Todo en producci√≥n.">
  <meta property="og:type" content="article">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #10B981;
      --primary-dark: #059669;
      --bg-dark: #0a0f1c;
      --bg-card: #111827;
      --bg-code: #0d1117;
      --text-primary: #ffffff;
      --text-secondary: rgba(255,255,255,0.7);
      --text-muted: rgba(255,255,255,0.45);
      --accent-blue: #4fc3f7;
      --accent-purple: #b388ff;
      --accent-orange: #ffab40;
      --accent-green: #10B981;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg-dark);
      color: var(--text-primary);
      line-height: 1.8;
    }

    .container { max-width: 860px; margin: 0 auto; padding: 0 20px; }

    .post-header {
      text-align: center;
      padding: 80px 20px 60px;
      background: linear-gradient(135deg, var(--bg-dark) 0%, #0d1f17 50%, #111827 100%);
      border-bottom: 1px solid rgba(255,255,255,0.08);
      position: relative;
      overflow: hidden;
    }
    .post-header::before {
      content: '';
      position: absolute; top: -50%; left: -50%;
      width: 200%; height: 200%;
      background: radial-gradient(circle at 30% 50%, rgba(16,185,129,0.07) 0%, transparent 50%),
                  radial-gradient(circle at 70% 50%, rgba(16,185,129,0.04) 0%, transparent 50%);
      animation: headerGlow 8s ease-in-out infinite alternate;
    }
    @keyframes headerGlow {
      0% { transform: translate(0,0); }
      100% { transform: translate(-2%,2%); }
    }

    .back-link {
      display: inline-flex; align-items: center; gap: 8px;
      color: var(--primary); text-decoration: none;
      margin-bottom: 30px; transition: all 0.3s; position: relative;
      font-size: 0.9rem; font-weight: 500;
    }
    .back-link:hover { gap: 12px; }

    .post-tags { display: flex; gap: 8px; justify-content: center; flex-wrap: wrap; margin-bottom: 20px; }
    .tag {
      padding: 4px 12px; border-radius: 20px; font-size: 0.78rem; font-weight: 600;
      background: rgba(16,185,129,0.12); color: var(--primary);
      border: 1px solid rgba(16,185,129,0.25);
    }
    .tag.purple { background: rgba(179,136,255,0.12); color: #b388ff; border-color: rgba(179,136,255,0.25); }
    .tag.blue   { background: rgba(79,195,247,0.12); color: #4fc3f7; border-color: rgba(79,195,247,0.25); }
    .tag.orange { background: rgba(255,171,64,0.12); color: #ffab40; border-color: rgba(255,171,64,0.25); }

    .post-header h1 {
      font-size: clamp(1.8rem, 5vw, 2.8rem); font-weight: 800;
      line-height: 1.15; margin-bottom: 16px; position: relative;
    }
    .post-header h1 .highlight { color: var(--primary); }

    .post-meta { color: var(--text-muted); font-size: 0.9rem; position: relative; }
    .post-meta span { margin: 0 8px; }

    .post-content { padding: 60px 0 80px; }

    .post-content h2 {
      font-size: 1.6rem; font-weight: 700; margin: 56px 0 20px;
      color: #fff; padding-left: 16px; border-left: 3px solid var(--primary);
    }
    .post-content h3 {
      font-size: 1.15rem; font-weight: 600; margin: 36px 0 14px;
      color: var(--primary);
    }
    .post-content p { margin-bottom: 20px; color: var(--text-secondary); font-size: 1.05rem; }
    .post-content ul, .post-content ol {
      margin: 0 0 20px 24px; color: var(--text-secondary); font-size: 1.05rem;
    }
    .post-content li { margin-bottom: 8px; }

    pre {
      background: var(--bg-code); border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px; padding: 24px; overflow-x: auto;
      margin: 24px 0; position: relative;
    }
    pre code { font-family: 'JetBrains Mono', 'Fira Code', monospace; font-size: 0.88rem; line-height: 1.7; color: #e2e8f0; }
    code {
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
      background: rgba(16,185,129,0.1); color: var(--primary);
      padding: 2px 7px; border-radius: 5px; font-size: 0.9em;
    }
    pre code { background: none; color: inherit; padding: 0; }

    .code-label {
      font-size: 0.72rem; font-weight: 700; letter-spacing: 1px;
      color: var(--text-muted); text-transform: uppercase; margin-bottom: 12px;
    }

    .callout {
      border-radius: 12px; padding: 20px 24px; margin: 28px 0; border-left: 4px solid;
    }
    .callout.green  { background: rgba(16,185,129,0.08); border-color: var(--primary); }
    .callout.blue   { background: rgba(79,195,247,0.08); border-color: #4fc3f7; }
    .callout.purple { background: rgba(179,136,255,0.08); border-color: #b388ff; }
    .callout.orange { background: rgba(255,171,64,0.08); border-color: #ffab40; }
    .callout-title  { font-weight: 700; margin-bottom: 8px; font-size: 0.95rem; }
    .callout p      { margin: 0; font-size: 0.95rem; }

    .flow-diagram {
      background: var(--bg-code); border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px; padding: 32px 24px; margin: 28px 0;
      font-family: 'JetBrains Mono', monospace; font-size: 0.85rem;
      color: var(--text-secondary); line-height: 2;
    }
    .flow-step { display: flex; align-items: center; gap: 12px; margin-bottom: 4px; }
    .flow-num {
      width: 26px; height: 26px; border-radius: 50%;
      background: rgba(16,185,129,0.15); border: 1px solid rgba(16,185,129,0.35);
      color: var(--primary); font-size: 0.78rem; font-weight: 700;
      display: flex; align-items: center; justify-content: center; flex-shrink: 0;
    }

    .result-card {
      background: var(--bg-card); border: 1px solid rgba(255,255,255,0.08);
      border-radius: 16px; padding: 28px; margin: 28px 0;
    }
    .result-card .rc-title { font-weight: 700; font-size: 1.05rem; margin-bottom: 16px; color: var(--primary); }
    .result-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.06); font-size: 0.95rem; }
    .result-row:last-child { border: none; }
    .result-row .label { color: var(--text-muted); }
    .result-row .value { color: var(--text-primary); font-weight: 500; }
    .result-row .value.green { color: var(--primary); }

    .terminal {
      background: #0d1117; border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px; overflow: hidden; margin: 24px 0;
    }
    .terminal-bar {
      background: #161b22; padding: 10px 16px;
      display: flex; align-items: center; gap: 8px;
    }
    .dot { width: 12px; height: 12px; border-radius: 50%; }
    .dot.red { background: #ff5f57; }
    .dot.yellow { background: #febc2e; }
    .dot.green { background: #28c840; }
    .terminal-body { padding: 20px 24px; font-family: 'JetBrains Mono', monospace; font-size: 0.88rem; line-height: 1.8; }
    .t-prompt { color: var(--primary); }
    .t-cmd { color: #e2e8f0; }
    .t-out { color: #94a3b8; margin-left: 2px; }
    .t-success { color: var(--primary); }
    .t-info { color: #4fc3f7; }

    .screenshot-frame {
      background: var(--bg-card); border: 1px solid rgba(255,255,255,0.08);
      border-radius: 16px; overflow: hidden; margin: 28px 0;
    }
    .screenshot-bar {
      background: #1e293b; padding: 12px 16px;
      display: flex; align-items: center; gap: 8px;
    }
    .url-bar {
      background: rgba(255,255,255,0.06); border-radius: 6px;
      padding: 4px 12px; font-size: 0.82rem; color: var(--text-muted);
      font-family: monospace; flex: 1;
    }
    .screen-content { padding: 28px; }

    .post-footer {
      background: var(--bg-card); border-top: 1px solid rgba(255,255,255,0.08);
      padding: 48px 20px; text-align: center;
    }
    .author-info { display: flex; align-items: center; justify-content: center; gap: 16px; margin-bottom: 20px; }
    .author-avatar {
      width: 52px; height: 52px; border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), #059669);
      display: flex; align-items: center; justify-content: center;
      font-size: 1.3rem; font-weight: 800; color: white;
    }
    .author-name { font-weight: 700; font-size: 1.1rem; }
    .author-title { color: var(--text-muted); font-size: 0.88rem; }
    .footer-links { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }
    .footer-links a { color: var(--primary); text-decoration: none; font-size: 0.9rem; transition: opacity 0.2s; }
    .footer-links a:hover { opacity: 0.75; }
  </style>
  <script src="public/i18n.js"></script>
  <link rel="stylesheet" href="visits-badge.css">
  <script src="visits-badge.js" defer></script>
</head>
<body>

<!-- HEADER -->
<div class="post-header">
  <div class="container">
    <a href="index.html" class="back-link">
      <i class="fas fa-arrow-left"></i> <span class="lang-es">Volver al inicio</span><span class="lang-en">Back to home</span>
    </a>
    <span class="lang-toggle" onclick="toggleLanguage()" style="position:absolute;top:30px;right:30px">üåê EN</span>

    <div class="post-tags">
      <span class="tag">TenK</span>
      <span class="tag purple">OpenClaw</span>
      <span class="tag blue">Flutter</span>
      <span class="tag orange">OAuth Device Flow</span>
    </div>

    <h1>
      <span class="lang-es"><span class="highlight">TenK</span> ahora en tu<br>Asistente de IA</span>
      <span class="lang-en"><span class="highlight">TenK</span> Now in Your<br>AI Assistant</span>
    </h1>

    <div class="ov-views-wrap">
      <div class="ov-views-badge" data-ov-visits>
        <span class="ov-dot"></span>
        <span class="ov-label">Visitas</span>
        <span class="ov-count">‚Äî</span>
      </div>
    </div>

    <p class="post-meta">
      <span><i class="far fa-calendar"></i> 18 Feb 2026</span>
      <span>¬∑</span>
      <span><i class="far fa-clock"></i> <span class="lang-es">10 min lectura</span><span class="lang-en">10 min read</span></span>
      <span>¬∑</span>
      <span>OscarCode9</span>
    </p>
  </div>
</div>

<!-- CONTENT -->
<div class="post-content">
  <div class="container">

    <p class="lang-es">
      Si sigues el blog, sabes que <strong>TenK</strong> es mi app para registrar horas de pr√°ctica deliberada hacia las 10,000 horas.
      Esta semana conect√© TenK con <a href="https://openclaw.ai/" style="color: var(--primary);">OpenClaw</a> ‚Äî
      el asistente de IA que uso en mi Mac ‚Äî para poder interactuar con la app directamente desde el chat.
      Sin abrir la app. Sin buscar la pantalla. Solo "log 45 min de guitarra" y listo.
    </p>
    <p class="lang-en">
      If you follow the blog, you know <strong>TenK</strong> is my app for logging deliberate practice hours toward 10,000 hours.
      This week I connected TenK with <a href="https://openclaw.ai/" style="color: var(--primary);">OpenClaw</a> ‚Äî
      the AI assistant I use on my Mac ‚Äî so I can interact with the app directly from chat.
      No opening the app. No hunting for the screen. Just "log 45 min of guitar" and done.
    </p>

    <p class="lang-es">Esto requiri√≥ construir tres cosas desde cero:</p>
    <p class="lang-en">This required building three things from scratch:</p>
    <ul>
      <li class="lang-es">Un <strong>sistema de auth seguro</strong> para que el asistente se autentique sin passwords en el chat</li>
      <li class="lang-en">A <strong>secure auth system</strong> so the assistant can authenticate without passwords in the chat</li>
      <li class="lang-es">Una <strong>p√°gina de autorizaci√≥n</strong> en la app Flutter</li>
      <li class="lang-en">An <strong>authorization page</strong> in the Flutter app</li>
      <li class="lang-es">Un <strong>skill CLI</strong> que OpenClaw puede ejecutar para hablar con la API de TenK</li>
      <li class="lang-en">A <strong>CLI skill</strong> that OpenClaw can execute to talk to the TenK API</li>
    </ul>

    <h2><span class="lang-es">El problema: ¬øc√≥mo autentica un asistente?</span><span class="lang-en">The Problem: How Does an Assistant Authenticate?</span></h2>

    <p class="lang-es">Cuando tu asistente de IA quiere acceder a una API tuya, tienes tres opciones:</p>
    <p class="lang-en">When your AI assistant wants to access your API, you have three options:</p>

    <ul>
      <li class="lang-es"><strong>API Key hardcodeada</strong> ‚Äî inseguro, el key vive en el contexto del chat</li>
      <li class="lang-en"><strong>Hardcoded API Key</strong> ‚Äî insecure, the key lives in the chat context</li>
      <li class="lang-es"><strong>Magic Link</strong> ‚Äî ok, pero requiere email y tiene UX rara</li>
      <li class="lang-en"><strong>Magic Link</strong> ‚Äî ok, but requires email and has a weird UX</li>
      <li class="lang-es"><strong>OAuth Device Flow</strong> ‚Äî lo mismo que usa GitHub CLI, Netflix en Smart TVs, VSCode para autenticarse. El dispositivo genera un c√≥digo y <em>t√∫</em> lo apruebas desde el browser</li>
      <li class="lang-en"><strong>OAuth Device Flow</strong> ‚Äî the same thing GitHub CLI, Netflix on Smart TVs, and VSCode use to authenticate. The device generates a code and <em>you</em> approve it from the browser</li>
    </ul>

    <div class="callout green">
      <div class="callout-title"><span class="lang-es">¬øPor qu√© Device Flow?</span><span class="lang-en">Why Device Flow?</span></div>
      <p class="lang-es">El asistente nunca ve tu contrase√±a. T√∫ inicias sesi√≥n en <em>tu</em> browser, apruebas o rechazas el acceso, y el asistente recibe un JWT. Exactamente como GitHub CLI.</p>
      <p class="lang-en">The assistant never sees your password. You log in through <em>your</em> browser, approve or reject access, and the assistant receives a JWT. Exactly like GitHub CLI.</p>
    </div>

    <h2><span class="lang-es">El flujo completo</span><span class="lang-en">The Complete Flow</span></h2>

    <div style="margin: 28px 0; border-radius: 12px; overflow: hidden; border: 1px solid rgba(255,255,255,0.08);">
      <img src="diagram-device-flow.svg" alt="OAuth Device Flow ‚Äî TenK x OpenClaw" style="width:100%; display:block; background:#fff;">
    </div>

    <h2><span class="lang-es">Backend: 4 endpoints en Hono + Prisma</span><span class="lang-en">Backend: 4 Endpoints in Hono + Prisma</span></h2>

    <p class="lang-es">El backend corre en Bun + Hono. Agregu√© un m√≥dulo <code>device-auth</code> con su propia tabla en Postgres:</p>
    <p class="lang-en">The backend runs on Bun + Hono. I added a <code>device-auth</code> module with its own table in Postgres:</p>

    <div class="code-label">prisma/schema.prisma</div>
    <pre><code>model DeviceCode {
  id        String   @id @default(cuid())
  code      String   @unique
  userCode  String
  status    String   @default("pending") // pending | approved | expired
  userId    String?
  email     String?
  token     String?
  expiresAt DateTime
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}</code></pre>

    <div class="code-label">4 endpoints</div>
    <pre><code>POST   /api/device-auth/code              ‚Üí genera XXXX-XXXX (10 min expiry)
GET    /api/device-auth/code/:code/status  ‚Üí { status: pending|approved|expired, token? }
GET    /api/device-auth/authorize/:code    ‚Üí p√°gina HTML fallback
POST   /api/device-auth/authorize/:code    ‚Üí acepta JSON (sessionToken o email+password)</code></pre>

    <p class="lang-es">El POST de autorizaci√≥n acepta dos modos:</p>
    <p class="lang-en">The POST authorization endpoint accepts two modes:</p>
    <ul>
      <li class="lang-es"><strong>sessionToken</strong> ‚Äî si el usuario ya est√° loggeado en la app Flutter, manda su JWT y se autoriza en un click</li>
      <li class="lang-en"><strong>sessionToken</strong> ‚Äî if the user is already logged in to the Flutter app, it sends their JWT and authorizes in one click</li>
      <li class="lang-es"><strong>email + password</strong> ‚Äî fallback cl√°sico</li>
      <li class="lang-en"><strong>email + password</strong> ‚Äî classic fallback</li>
    </ul>

    <h2><span class="lang-es">La p√°gina de autorizaci√≥n en Flutter</span><span class="lang-en">The Authorization Page in Flutter</span></h2>

    <p class="lang-es">
      Esta fue la parte m√°s interesante. La web de TenK es una app Flutter (s√≠, Flutter Web en producci√≥n).
      En lugar de servir una p√°gina HTML desde Hono, agregu√© una ruta <code>/authorize/:code</code> directamente en GoRouter.
    </p>
    <p class="lang-en">
      This was the most interesting part. The TenK web is a Flutter app (yes, Flutter Web in production).
      Instead of serving an HTML page from Hono, I added an <code>/authorize/:code</code> route directly in GoRouter.
    </p>

    <div class="callout blue">
      <div class="callout-title"><span class="lang-es">¬øPor qu√© Flutter y no HTML?</span><span class="lang-en">Why Flutter and not HTML?</span></div>
      <p class="lang-es">La landing y toda la web ya son Flutter. Tendr√≠a dos sistemas de dise√±o si met√≠a HTML crudo. Flutter mantiene branding consistente y puedo usar los mismos widgets, colores y el logo oficial.</p>
      <p class="lang-en">The landing and all the web are already Flutter. I'd have two design systems if I added raw HTML. Flutter keeps consistent branding and I can use the same widgets, colors, and official logo.</p>
    </div>

    <p class="lang-es">La p√°gina tiene tres estados:</p>
    <p class="lang-en">The page has three states:</p>

    <div class="screenshot-frame">
      <div class="screenshot-bar">
        <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
        <div class="url-bar">tenk.oventlabs.com/#/authorize/NTWN-5KZT</div>
      </div>
      <div class="screen-content">
        <div style="display: flex; gap: 24px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 180px; text-align: center; padding: 20px; background: rgba(255,255,255,0.03); border-radius: 10px; border: 1px solid rgba(255,255,255,0.06);">
            <div style="font-size: 1.5rem; margin-bottom: 8px;">üîë</div>
            <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 4px;">Step 1: Login</div>
            <div style="font-size: 0.8rem; color: var(--text-muted);"><span class="lang-es">Email + contrase√±a de TenK</span><span class="lang-en">Email + TenK password</span></div>
          </div>
          <div style="flex: 1; min-width: 180px; text-align: center; padding: 20px; background: rgba(16,185,129,0.06); border-radius: 10px; border: 1px solid rgba(16,185,129,0.2);">
            <div style="font-size: 1.5rem; margin-bottom: 8px;">‚úÖ</div>
            <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 4px;"><span class="lang-es">Step 2: Confirmar</span><span class="lang-en">Step 2: Confirm</span></div>
            <div style="font-size: 0.8rem; color: var(--text-muted);"><span class="lang-es">Tu nombre + permisos + Autorizar / Rechazar</span><span class="lang-en">Your name + permissions + Authorize / Reject</span></div>
          </div>
          <div style="flex: 1; min-width: 180px; text-align: center; padding: 20px; background: rgba(255,255,255,0.03); border-radius: 10px; border: 1px solid rgba(255,255,255,0.06);">
            <div style="font-size: 1.5rem; margin-bottom: 8px;">üéâ</div>
            <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 4px;">Done</div>
            <div style="font-size: 0.8rem; color: var(--text-muted);"><span class="lang-es">Asistente conectado</span><span class="lang-en">Assistant connected</span></div>
          </div>
        </div>
      </div>
    </div>

    <p class="lang-es">
      Si ya est√°s loggeado en TenK (SharedPreferences tiene el token), salta directo al Step 2.
      Si el c√≥digo ya expir√≥, muestra pantalla de error. Todo dentro del mismo widget con un enum de estados.
    </p>
    <p class="lang-en">
      If you're already logged in to TenK (SharedPreferences has the token), it jumps directly to Step 2.
      If the code has already expired, it shows an error screen. All within the same widget with a state enum.
    </p>

    <div class="code-label">device_authorize_page.dart ‚Äî <span class="lang-es">estados</span><span class="lang-en">states</span></div>
    <pre><code>enum _Step { loading, login, confirm, success, rejected, expired }

// Si ya hay sesi√≥n guardada ‚Üí salta a confirm
final token = await _getStoredToken();
if (token != null) {
  final user = await _fetchMe(token);
  if (user != null) {
    setState(() => _step = _Step.confirm);
    return;
  }
}
// Si no ‚Üí login form
setState(() => _step = _Step.login);</code></pre>

    <h2><span class="lang-es">El Skill CLI</span><span class="lang-en">The CLI Skill</span></h2>

    <p class="lang-es">
      Un skill de OpenClaw es b√°sicamente un <code>SKILL.md</code> con instrucciones para el agente
      m√°s archivos de soporte (scripts, assets). El agente lee el SKILL.md cuando detecta que la tarea
      aplica, y sigue las instrucciones.
    </p>
    <p class="lang-en">
      An OpenClaw skill is basically a <code>SKILL.md</code> with instructions for the agent
      plus support files (scripts, assets). The agent reads the SKILL.md when it detects the task
      applies and follows the instructions.
    </p>

    <div class="terminal">
      <div class="terminal-bar">
        <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
      </div>
      <div class="terminal-body">
        <div><span class="t-prompt">$ </span><span class="t-cmd">tenk.sh auth</span></div>
        <div><span class="t-out">üîê Iniciando autenticaci√≥n con TenK...</span></div>
        <div><span class="t-out"></span></div>
        <div><span class="t-info">  üëâ  https://tenk.oventlabs.com/#/authorize/K7JC-SVAK</span></div>
        <div><span class="t-out">  C√≥digo: K7JC-SVAK (expira en 600s)</span></div>
        <div><span class="t-out">  ...</span></div>
        <div><span class="t-success">‚úÖ Autenticado exitosamente. Token guardado.</span></div>
        <br>
        <div><span class="t-prompt">$ </span><span class="t-cmd">tenk.sh stats</span></div>
        <div><span class="t-success">üìä Stats TenK:</span></div>
        <div><span class="t-out">   Total: 247.5h de 10000h (2.47%)</span></div>
        <div><span class="t-out">   Faltan: 9752.5h para las 10,000h</span></div>
        <div><span class="t-out">   Habilidades activas: 8</span></div>
        <br>
        <div><span class="t-prompt">$ </span><span class="t-cmd">tenk.sh log guitarra 45 "Arpegios flamencos"</span></div>
        <div><span class="t-success">‚úÖ Registrado: Guitarra ‚Äî 45 min</span></div>
      </div>
    </div>

    <p class="lang-es">El CLI tiene 7 comandos:</p>
    <p class="lang-en">The CLI has 7 commands:</p>
    <ul>
      <li><code>auth</code> ‚Äî <span class="lang-es">device flow + polling hasta aprobado</span><span class="lang-en">device flow + polling until approved</span></li>
      <li><code>skills</code> ‚Äî <span class="lang-es">lista habilidades con horas acumuladas</span><span class="lang-en">lists skills with accumulated hours</span></li>
      <li><code>stats</code> ‚Äî <span class="lang-es">total de horas y % hacia 10,000h</span><span class="lang-en">total hours and % toward 10,000h</span></li>
      <li><code>log &lt;skill&gt; &lt;min&gt; [nota]</code> ‚Äî <span class="lang-es">registra sesi√≥n (fuzzy match por nombre)</span><span class="lang-en">logs session (fuzzy match by name)</span></li>
      <li><code>streak</code> ‚Äî <span class="lang-es">cu√°ndo practicaste por √∫ltima vez cada skill</span><span class="lang-en">when you last practiced each skill</span></li>
      <li><code>whoami</code> / <code>logout</code></li>
    </ul>

    <div class="callout orange">
      <div class="callout-title"><span class="lang-es">Detalle t√©cnico: JSON injection fix</span><span class="lang-en">Technical Detail: JSON Injection Fix</span></div>
      <p class="lang-es">El primer draft constru√≠a el payload JSON concatenando strings en bash ‚Äî un cl√°sico vector de inyecci√≥n. Lo correg√≠ usando <code>python3 -c "import json, sys; print(json.dumps(...))"</code> con el argumento del usuario pasado como <code>sys.argv[1]</code>, nunca interpolado.</p>
      <p class="lang-en">The first draft built the JSON payload by concatenating strings in bash ‚Äî a classic injection vector. I fixed it using <code>python3 -c "import json, sys; print(json.dumps(...))"</code> with the user's argument passed as <code>sys.argv[1]</code>, never interpolated.</p>
    </div>

    <h2><span class="lang-es">La validaci√≥n de seguridad de ClaHub</span><span class="lang-en">ClaHub Security Validation</span></h2>

    <p class="lang-es">
      ClaHub (el repositorio de skills de OpenClaw) tiene un scanner autom√°tico antes de publicar.
      El primer intento me flagge√≥ <strong>unicode control characters</strong> en el SKILL.md.
    </p>
    <p class="lang-en">
      ClaHub (the OpenClaw skills repository) has an automatic scanner before publishing.
      The first attempt flagged <strong>unicode control characters</strong> in the SKILL.md.
    </p>

    <p class="lang-es">
      Curioso porque mi propio scanner dec√≠a "CLEAN". El problema: yo buscaba bytes &lt; 0x09 o entre 0x0a-0x20.
      Pero hay caracteres Unicode en categor√≠as <code>Cf</code> (format) y <code>Cc</code> (control) que pasan ese filtro.
      Los emojis en el markdown (üìä, ‚úçÔ∏è, üî•) fueron el culpable.
    </p>
    <p class="lang-en">
      Curious, because my own scanner said "CLEAN". The problem: I was looking for bytes &lt; 0x09 or between 0x0a-0x20.
      But there are Unicode characters in <code>Cf</code> (format) and <code>Cc</code> (control) categories that pass that filter.
      The emojis in the markdown (üìä, ‚úçÔ∏è, üî•) were the culprit.
    </p>

    <p class="lang-es">La soluci√≥n: reescribir todos los archivos del skill como <strong>pure ASCII</strong>:</p>
    <p class="lang-en">The solution: rewrite all skill files as <strong>pure ASCII</strong>:</p>

    <div class="code-label"><span class="lang-es">verificaci√≥n antes de empaquetar</span><span class="lang-en">verification before packaging</span></div>
    <pre><code>python3 -c "
import unicodedata
text = open('SKILL.md').read()
weird = [(i, hex(ord(c)), unicodedata.name(c,'UNKNOWN'))
         for i, c in enumerate(text)
         if unicodedata.category(c) in ('Cf','Cc','Cs') and c not in '\n\r\t']
print('CLEAN' if not weird else f'BAD: {weird[:5]}')
"</code></pre>

    <p class="lang-es">Despu√©s de limpiar: todos los archivos CLEAN. El scanner pas√≥ en el segundo intento.</p>
    <p class="lang-en">After cleaning: all files CLEAN. The scanner passed on the second attempt.</p>

    <h2><span class="lang-es">Arquitectura del sistema</span><span class="lang-en">System Architecture</span></h2>

    <div style="margin: 28px 0; border-radius: 12px; overflow: hidden; border: 1px solid rgba(255,255,255,0.08);">
      <img src="diagram-architecture.svg" alt="Arquitectura ‚Äî TenK Skill" style="width:100%; display:block; background:#fff;">
    </div>

    <h2><span class="lang-es">La landing page actualizada</span><span class="lang-en">The Updated Landing Page</span></h2>

    <p class="lang-es">
      Con el skill funcionando, actualic√© la landing de TenK para comunicar la integraci√≥n.
      Agregu√© una secci√≥n oscura antes del footer con:
    </p>
    <p class="lang-en">
      With the skill working, I updated the TenK landing to communicate the integration.
      I added a dark section before the footer with:
    </p>
    <ul>
      <li class="lang-es">Logo oficial de TenK √ó logo de OpenClaw (ü¶û)</li>
      <li class="lang-en">Official TenK logo √ó OpenClaw logo (ü¶û)</li>
      <li class="lang-es">Preview de chat en terminal mostrando el skill en acci√≥n</li>
      <li class="lang-en">Chat preview in terminal showing the skill in action</li>
      <li><span class="lang-es">Comando de instalaci√≥n:</span><span class="lang-en">Install command:</span> <code>npx clawhub@latest install tenk-connect</code></li>
      <li>CTA <span class="lang-es">a</span><span class="lang-en">to</span> <a href="https://openclaw.ai/" style="color: var(--primary);">openclaw.ai</a></li>
    </ul>

    <h2><span class="lang-es">Deploy y lo que qued√≥ en producci√≥n</span><span class="lang-en">Deploy and What Ended Up in Production</span></h2>

    <div class="result-card">
      <div class="rc-title"><span class="lang-es">Estado final en producci√≥n</span><span class="lang-en">Final Production Status</span></div>
      <div class="result-row"><span class="label">Backend (Hono + Prisma)</span><span class="value green">‚úÖ device_codes table + 4 endpoints</span></div>
      <div class="result-row"><span class="label">Flutter web (/authorize/:code)</span><span class="value green">‚úÖ live en tenk.oventlabs.com</span></div>
      <div class="result-row"><span class="label">Skill CLI (tenk.sh)</span><span class="value green">‚úÖ auth, skills, stats, log, streak</span></div>
      <div class="result-row"><span class="label"><span class="lang-es">Paquete ClaHub</span><span class="lang-en">ClaHub Package</span></span><span class="value green">‚úÖ pure ASCII, JSON-safe</span></div>
      <div class="result-row"><span class="label">Landing page</span><span class="value green">‚úÖ <span class="lang-es">secci√≥n OpenClaw live</span><span class="lang-en">OpenClaw section live</span></span></div>
      <div class="result-row"><span class="label"><span class="lang-es">Datos de producci√≥n</span><span class="lang-en">Production Data</span></span><span class="value green">‚úÖ 22 users, 35 skills ‚Äî 0 p√©rdidas</span></div>
    </div>

    <h2><span class="lang-es">Lo que aprend√≠</span><span class="lang-en">What I Learned</span></h2>

    <p class="lang-es">
      <strong>OAuth Device Flow es subestimado.</strong> Es el patr√≥n correcto cuando el "dispositivo" no tiene browser propio
      ‚Äî un CLI, una TV, un asistente de IA. La mayor√≠a de devs van directo a API keys sin pensar en alternativas m√°s seguras.
    </p>
    <p class="lang-en">
      <strong>OAuth Device Flow is underrated.</strong> It's the right pattern when the "device" doesn't have its own browser
      ‚Äî a CLI, a TV, an AI assistant. Most devs go straight to API keys without thinking about more secure alternatives.
    </p>

    <p class="lang-es">
      <strong>Flutter Web vale la pena para consistencia.</strong> Podr√≠a haber servido HTML desde Hono en 30 minutos.
      Pero tener la p√°gina de autorizaci√≥n en Flutter significa el mismo sistema de dise√±o, los mismos colores, el mismo logo,
      los mismos widgets. A largo plazo eso importa.
    </p>
    <p class="lang-en">
      <strong>Flutter Web is worth it for consistency.</strong> I could have served HTML from Hono in 30 minutes.
      But having the authorization page in Flutter means the same design system, same colors, same logo,
      same widgets. Long-term, that matters.
    </p>

    <p class="lang-es">
      <strong>Los scanners de seguridad son m√°s estrictos de lo que crees.</strong>
      Mi checklist de "no hay secrets hardcodeados" no es suficiente.
      Unicode format chars en markdown pueden parecer intent malicioso.
      Pure ASCII es la forma m√°s segura de distribuir archivos de configuraci√≥n de agentes.
    </p>
    <p class="lang-en">
      <strong>Security scanners are stricter than you think.</strong>
      My "no hardcoded secrets" checklist isn't enough.
      Unicode format chars in markdown can look like malicious intent.
      Pure ASCII is the safest way to distribute agent configuration files.
    </p>

    <div class="callout green">
      <div class="callout-title"><span class="lang-es">Pru√©balo</span><span class="lang-en">Try It</span></div>
      <p>
        App: <a href="https://tenk.oventlabs.com" style="color: var(--primary);">tenk.oventlabs.com</a><br>
        Skill: <a href="https://clawhub.com" style="color: var(--primary);">clawhub.com</a> ‚Üí <span class="lang-es">busca</span><span class="lang-en">search for</span> <strong>tenk-connect</strong><br>
        OpenClaw: <a href="https://openclaw.ai" style="color: var(--primary);">openclaw.ai</a>
      </p>
    </div>

  </div>
</div>

<!-- FOOTER -->
<div class="post-footer">
  <div class="author-info">
    <div class="author-avatar">O</div>
    <div>
      <div class="author-name">OscarCode9</div>
      <div class="author-title">Builder @ OventLabs ¬∑ Aguascalientes, M√©xico</div>
    </div>
  </div>
  <div class="footer-links">
    <a href="index.html"><i class="fas fa-home"></i> Blog</a>
    <a href="https://tenk.oventlabs.com" target="_blank"><i class="fas fa-external-link-alt"></i> TenK</a>
    <a href="https://openclaw.ai" target="_blank"><i class="fas fa-external-link-alt"></i> OpenClaw</a>
    <a href="https://github.com/OscarCode9" target="_blank"><i class="fab fa-github"></i> GitHub</a>
  </div>
</div>

</body>
</html>
